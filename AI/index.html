<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>AI STORY GENERATOR - The Magical Storybook</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="style.css" />
</head>
<body class="min-h-screen flex items-center justify-center p-4 overflow-hidden relative">
    <div class="sun"></div>
    <div class="cloud cloud1" style="--cloud-speed: 60s;"></div>
    <div class="cloud cloud2" style="--cloud-speed: 70s; --cloud-start-delay: 10s;"></div>
    <div class="cloud cloud3" style="--cloud-speed: 65s; --cloud-start-delay: 20s;"></div>

    <div class="book-container">
        <div class="book-cover">
            <h1 class="book-title" style="font-family: 'Playfair Display', serif;">
                ✨ The Enchanted Story Weaver ✨
            </h1>
            <p class="cover-subtitle">Unlock Your Imagination</p>
        </div>
        <div class="book-pages">
            <div class="left-page">
                <div class="prompt-section">
                    <label for="promptInput" class="block text-purple-700 text-sm font-semibold mb-2">
                        What spell shall we weave today?
                    </label>
                    <textarea
                        id="promptInput"
                        class="w-full p-3 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition shadow-inner"
                        rows="6"
                        placeholder="e.g., A brave knight discovers a talking dragon..."
                    ></textarea>
                    <button
                        id="generateBtn"
                        class="mt-4 w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-full transition duration-300 transform hover:scale-105 shadow-lg"
                    >
                        Weave My Story!
                    </button>
                </div>
                <div id="loadingIndicator" class="hidden mt-4 text-center text-purple-600">
                    <img src="https://media.tenor.com/wj1qpaC3ZBIAAAAC/cheetah-running.gif" class="h-10 w-auto inline-block mr-2" alt="Loading" />
                    <span class="italic font-medium animate-pulse">Spinning your imagination...</span>
                </div>
                <div id="errorBox" class="mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg hidden relative hidden" role="alert">
                    <strong class="font-bold">Oops!</strong>
                    <span id="errorMessage">The magical ink ran dry. Try again!</span>
                </div>
            </div>
            <div class="right-page">
                <div class="story-display">
                    <div class="flex items-center justify-between mb-3">
                        <h2 class="text-xl font-semibold text-purple-800">The Tale Unfolds:</h2>
                        <button
                            id="speakBtn"
                            class="flex items-center text-purple-600 hover:text-purple-800 transition font-medium"
                            title="Read aloud"
                        >
                            <svg class="h-6 w-6 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M5 9v6h4l5 5V4L9 9H5zm13.5 3c0-1.77-.73-3.37-1.91-4.53l-1.42 1.42A5.978 5.978 0 0116.5 12c0 1.66-.67 3.16-1.76 4.24l1.42 1.42A7.96 7.96 0 0018.5 12z"/>
                            </svg>
                            Read Aloud
                        </button>
                    </div>
                    <div class="story-content-wrapper">
                        <div
                            id="storyOutput"
                            class="p-4 rounded-xl min-h-[200px] max-h-[400px] overflow-y-auto text-purple-900 leading-relaxed whitespace-pre-wrap text-lg font-medium shadow-inner"
                        >
                            Your enchanted story will appear here.
                        </div>
                        <button
                            id="goBackBtn"
                            class="go-back-btn mt-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-full transition duration-300 transform hover:scale-105 shadow-md hidden"
                        >
                            Go Back
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>